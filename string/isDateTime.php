<?php

function isDate($str) {
    $regex = implode("", [
        "/^",
        "\d+{4}-(?:0?[1-9]|1[0-2]|)-(?:3[01]|[0-2]?[0-9])",
        "(?:T| )",
        "(?:2[0-3]|1[0-9]|0?[0-9])(?::[0-5]?[0-9]){2}",
        "(?:T| )",
        "$/",
    ]);
    // var_dump($regex);
    // $regex = "/^\d{4}-(?:0?[1-9]|1[0-2]|)-(?:3[01]|[0-2]?[0-9])(?:T| )(?:2[0-3]|1[0-9]|0?[0-9])(?::[0-5]?[0-9]){2}$/";
    return preg_match($regex, $str);
}